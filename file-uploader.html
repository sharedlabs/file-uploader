<link rel="import" href="../polymer/polymer.html">

<!--
`file-uploader`

@demo demo/index.html 
-->

<dom-module id="file-uploader">
  <template>
    <style>
      :host {
        display: none;
      }
    </style>

    <input
        id="fileInput"
        type="file"
        on-change="_inputChange"
        multiple$="[[multiple]]"
        accept$="[[accept]]"
        disabled$="[[disabled]]"
        hidden>

  </template>
</dom-module>

<script>
(function() {
  'use strict';

  Polymer({

    is: 'file-uploader',

    properties: {

      multiple: {
        type: Boolean,
        value: true
      },

      accept: {
        type: String,
        value: 'image/*'
      },
  
      disabled: Boolean

    },

    selectFiles() {
      this.$.fileInput.click();
    },

    _inputChange(event) {
      const files = event.target.files;

      this._uploadFiles(files);
    },

    _uploadFiles(files) {
      for (let i = 0; i < files.length; i++) {
        const file = files[i];
      }
    }

  });

}());
</script>


      <!--if (!(file instanceof File)) {
        throw new TypeError('the given file should be an instance of File');
      }-->